<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A simple system for classifying open-texts survey questions - Justin Savoie</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Georgia, 'Times New Roman', serif;
            line-height: 1.6;
            color: #333;
            background-color: #fff;
            max-width: 650px;
            margin: 0 auto;
            padding: 60px 20px;
        }
        
        /* Header with navigation and social icons */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 60px;
        }
        
        /* Navigation */
        nav {
            font-size: 16px;
        }
        
        nav a {
            color: #333;
            text-decoration: none;
            margin-right: 30px;
            transition: color 0.3s ease;
        }
        
        nav a:hover {
            color: #0066cc;
        }
        
        nav a.active {
            border-bottom: 1px solid #333;
        }
        
        /* Social Icons */
        .social-icons {
            display: flex;
            gap: 16px;
        }
        
        .social-icons a {
            color: #666;
            font-size: 18px;
            transition: color 0.3s ease;
            text-decoration: none;
        }
        
        .social-icons a:hover {
            color: #0066cc;
        }
        
        /* Main content */
        .content {
            margin-bottom: 60px;
        }
        
        h1 {
            font-size: 24px;
            font-weight: normal;
            margin-bottom: 40px;
        }
        
        p {
            margin-bottom: 20px;
            font-size: 16px;
            line-height: 1.8;
        }
        
        a {
            color: #0066cc;
            text-decoration: none;
        }
        
        a:hover {
            text-decoration: underline;
        }
        
        /* Blog section - compact style */
        .blog-section {
            display: none;
        }
        
        .blog-list {
            margin-top: 40px;
        }
        
        .blog-item {
            margin-bottom: 12px;
            font-size: 16px;
        }
        
        .blog-item .date {
            display: inline-block;
            width: 120px;
            color: #666;
        }
        
        .blog-item a {
            color: #0066cc;
        }
        
        /* Article styles for blog posts */
        article h1 {
            font-size: 28px;
            font-weight: normal;
            margin-bottom: 20px;
            line-height: 1.3;
        }
        
        .post-meta {
            color: #666;
            font-size: 14px;
            margin-bottom: 40px;
        }
        
        h2 {
            font-size: 22px;
            font-weight: normal;
            margin-top: 40px;
            margin-bottom: 20px;
        }
        
        h3 {
            font-size: 18px;
            font-weight: normal;
            margin-top: 30px;
            margin-bottom: 15px;
        }
        
        blockquote {
            border-left: 3px solid #ddd;
            padding-left: 20px;
            margin: 20px 0;
            color: #666;
            font-style: italic;
        }
        
        code {
            background-color: #f5f5f5;
            padding: 2px 5px;
            font-family: 'Courier New', Courier, monospace;
            font-size: 14px;
        }
        
        pre {
            background-color: #f5f5f5;
            padding: 15px;
            margin: 20px 0;
            overflow-x: auto;
            font-size: 14px;
            line-height: 1.4;
        }
        
        pre code {
            background-color: transparent;
            padding: 0;
        }
        
        ul, ol {
            margin-bottom: 20px;
            padding-left: 30px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        img {
            max-width: 100%;
            height: auto;
            margin: 20px 0;
        }
        
        /* Footer */
        footer {
            margin-top: 80px;
            padding-top: 40px;
            border-top: 1px solid #eee;
            font-size: 14px;
            color: #666;
        }
        
        /* Responsive */
        @media (max-width: 600px) {
            body {
                padding: 40px 20px;
            }
            
            header {
                flex-direction: column;
                gap: 20px;
                align-items: flex-start;
            }
            
            h1 {
                font-size: 24px;
            }
            
            nav {
                margin-bottom: 0;
            }
            
            nav a {
                margin-right: 20px;
            }
            
            .social-icons {
                gap: 20px;
            }
            
            .blog-item .date {
                display: block;
                width: auto;
                margin-bottom: 5px;
            }
        }
    </style>
</head>
<body>

<header>
        <nav>
            <a href="/" class="nav-about">About</a>
            <a href="/#blog" class="nav-blog">Blog</a>
        </nav>
        
        <div class="social-icons">
            <a href="https://github.com/justinsavoie" title="GitHub" target="_blank" rel="noopener">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                </svg>
            </a>
            <a href="https://twitter.com/justinsavoie" title="Twitter/X" target="_blank" rel="noopener">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"/>
                </svg>
            </a>
            <a href="https://www.linkedin.com/in/justin-savoie-a7793932/" title="LinkedIn" target="_blank" rel="noopener">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                </svg>
            </a>
            <a href="https://scholar.google.ca/citations?user=U4l1gLYAAAAJ&hl=en" title="Google Scholar" target="_blank" rel="noopener">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M5.242 13.769L0 9.5 12 0l12 9.5-5.242 4.269C17.548 11.249 14.978 9.5 12 9.5c-2.977 0-5.548 1.748-6.758 4.269zM12 10a7 7 0 1 0 0 14 7 7 0 0 0 0-14z"/>
                </svg>
            </a>
            <a href="mailto:savoiejustin99@gmail.com" title="Email">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M24 5.457v13.909c0 .904-.732 1.636-1.636 1.636h-3.819V11.73L12 16.64l-6.545-4.91v9.273H1.636C.732 21.002 0 20.27 0 19.366V5.457c0-.904.732-1.636 1.636-1.636h1.82l8.544 6.408 8.544-6.408h1.82c.904 0 1.636.732 1.636 1.636z"/>
                </svg>
            </a>
            <a href="/savoiejustin.pdf" title="CV" target="_blank" rel="noopener" style="display: flex; align-items: center;">
                <span style="font-family: Georgia, serif; font-size: 14px; font-weight: normal;">CV</span>
            </a>
        </div>
    </header>
    
    <article>
    <h1>A simple system for classifying open-texts survey questions</h1>
    <div class="post-meta">05 Jul, 2025</div>
    
    <p>By now, we all know that LLMs can code open-ended survey responses. It’s been documented, for example, in <a href="https://journals.sagepub.com/doi/full/10.1177/20531680241231468">this study</a>. </p>
<p>Andrei Burkov, in his <a href="https://thelmbook.com/">LM book</a>, writes (but gives no additional details):</p>
<blockquote>
<p>"Advanced chat language models enable highly accurate automated document labeling through a panel of expert models. Using three LLMs, when two or more assign the same label to a document, that label is adopted. If all three disagree, either a human can decide, or a fourth model can break the tie. In many business contexts, manual labeling is becoming obsolete, as LLMs offer faster and often more reliable labeling."</p>
</blockquote>
<p>What’s less clear is how well they do it, how to do it in practice; all the details ... </p>
<p>What I'm especially interested in is whether smaller, local models, can handle the task. Sometimes you don’t want to (or can't) send your data to commercial APIs. Maybe it's a privacy issue, maybe you just don’t feel like paying $8 per million tokens every time you want to analyze a batch of responses. Also, these models can change. We all agree there’s something nice and transparent with open models — even if it’s just the weights that are open and transparent.</p>
<p>One obvious problem: there's no clear ground truth for this kind of task. Say you have hundreds or thousands of open-text answers that were hand-coded into, for example, 12 categories by a human. That number is pretty arbitrary — you could’ve just as easily used 8, or 10, or 14 categories depending on your perspective or goals. There's a science to all this, of course, to inter-coder reliability (coding scheme validations, benchmarks, coders as randomly interchangeable, etc.) but ultimately it's still subjective. Some classification schemes are obviously bad, but defining what counts as "best" is not straightforward.</p>
<p>Anyways, after doing some planning with Claude and ChatGPT, I ended up with <a href="https://github.com/justinsavoie/open-text-coder">open-text-coder</a>, a lightweight text classification system using LLMs and machine learning.</p>
<p>It has:</p>
<ul>
<li>Hybrid Classification: Uses LLMs to label a sample, then trains a fast ML classifier</li>
<li>Multiple LLM Backends: Supports OpenAI and Ollama (local models)</li>
<li>Translation Support: Built-in translation for multilingual datasets</li>
<li>Category Generation: Automatically suggest categories from your data</li>
<li>Multi-label Support: Classify texts into multiple categories</li>
<li>Cost-Effective: Label only a sample with LLMs, predict the rest with ML</li>
</ul>
<p>For the full pipeline, check the <a href="https://github.com/justinsavoie/open-text-coder/blob/main/README.md">README.md</a> chaining the pieces.</p>
<p>As an example, I ran it on the <a href="http://www.ces-eec.ca/2021-canadian-election-study/">2021 Canadian Election Study</a>.</p>
<p><img alt="Distribution: most important issue" src="images/category_frequencies.png" /></p>
<p>It works reasonably well, but it’s not perfect. The main issue is that I don’t have a gold standard to compare my results to—no definitive reference to tell me whether the classifications are actually “correct.” One way to validate might be to use a stronger language model as a kind of judge: send it some of the outputs and see how it evaluates them. But the best method would still be to compare to a real gold-standard dataset, which I don’t have at the moment.</p>
<p>One last thought: I’ve done similar experiments at work on related topics, and they were much harder. Here, things go more smoothly because the categories are relatively clear. But when the topic itself is fuzzy—even for humans—it gets tricky fast. Imagine asking people why they’re dissatisfied with how democracy works (I haven’t tested that question exactly, but you get the idea). The answers go in every direction: metaphors, personal stories, vague references to parties or politicians. It’s hard to know how many categories there should even be. Is general cynicism its own class? What about cynicism directed at the current government, or at a specific politician? Sure, you can ask a powerful LLM to generate categories, but this kind of task is fundamentally hard and very context-specific. That’s about all I’ve got for now: doing this stuff well is harder than I initially thought.</p>
</article>
    
    <footer>
        <p>© 2025 Justin Savoie</p>
    </footer>
    
    <script>
        // Navigation for index page
        function showSection(section) {
            const aboutSection = document.getElementById('about-section');
            const blogSection = document.getElementById('blog-section');
            
            if (aboutSection && blogSection) {
                aboutSection.style.display = 'none';
                blogSection.style.display = 'none';
                
                document.querySelectorAll('nav a').forEach(link => {
                    link.classList.remove('active');
                });
                
                if (section === 'about') {
                    aboutSection.style.display = 'block';
                    document.querySelector('.nav-about').classList.add('active');
                } else if (section === 'blog') {
                    blogSection.style.display = 'block';
                    document.querySelector('.nav-blog').classList.add('active');
                }
            }
        }
        
        // Handle navigation clicks
        document.querySelector('.nav-about').addEventListener('click', function(e) {
            if (window.location.pathname === '/' || window.location.pathname === '/index.html') {
                e.preventDefault();
                showSection('about');
                history.pushState(null, '', '/');
            }
        });
        
        document.querySelector('.nav-blog').addEventListener('click', function(e) {
            if (window.location.pathname === '/' || window.location.pathname === '/index.html') {
                e.preventDefault();
                showSection('blog');
                history.pushState(null, '', '/#blog');
            }
        });
        
        // Check URL hash on load
        if (window.location.hash === '#blog') {
            showSection('blog');
        } else if (window.location.pathname === '/' || window.location.pathname === '/index.html') {
            showSection('about');
        }
    </script>
</body>
</html>