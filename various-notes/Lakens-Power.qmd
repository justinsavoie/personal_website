---
title: "Statistical power"
format: html
editor: visual
---

I want to know what's the power of a t-test with n = 50 in each groups. My effect size is 0.1. The significance level is 0.05. The t-test is two-sided. 

```{r}
library(pwr)
pwr.t.test(
  n = 50, # number of observations per group
  d = 0.87, # effect size (Cohen's d)
  sig.level = 0.05, # significance level (alpha)
  type = "two.sample", # for a one-sided test
)
```

The power is 0.0785. I can replicate this with simulations.

```{r}
f <- function(){
  a <- rnorm(50, mean = 0, sd = 1)
  b <- rnorm(50, mean = 0.1, sd = 1)
  test_result <- t.test(b, a)
  (test_result$p.value < 0.05)
}

mean(replicate(100000,f()))
mean(replicate(100000,f()))
mean(replicate(100000,f()))
mean(replicate(100000,f()))
```

